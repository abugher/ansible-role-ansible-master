---
install_packages:
  - 'rsync'             # Needed by synchronize module.
  - 'python3-dnspython' # Needed for:  lookup('dig', '[URL]')
install_python_packages:
  - 'ansible'
create_files:
  - path:               '/etc/ansible'
    state:              'directory'
    owner:              'root'
    group:              'root'
    mode:               '0755'
install_files:
  - owner:              'pi'
    group:              'pi'
    mode:               '0600'
    src:                "../../../sensitive_ansible/inventory/hosts/{{ inventory_hostname }}/users/pi/files/ssh_keys/id_rsa"
    dest:               '~pi/.ssh/id_rsa'
  - owner:              'pi'
    group:              'pi'
    mode:               '0644'
    src:                "{{ role_path }}/../../inventory/hosts/{{ inventory_hostname }}/users/pi/files/ssh_keys/id_rsa.pub"
    dest:               '~pi/.ssh/id_rsa.pub'
authorized_keys:
  - user:               'pi'
    keyfile:            "{{ role_path }}/../../inventory/hosts/aaron-phone/users/aaron/files/ssh_keys/id_rsa.pub"
allow_users:
  - 'ansible'
